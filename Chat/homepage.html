
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
    <title>Sun Chat BETA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="img/favicon.ico">
    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <style type="text/css" >
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }

      @media (max-width: 980px) {
        /* Enable use of floated navbar text */
        .navbar-text.pull-right {
          float: none;
          padding-left: 5px;
          padding-right: 5px;
        }
      }
    </style>

    <script src="js/jquery-2.1.3.min.js" type="text/javascript"></script>
    <script src="js/jquery.timeago.js" type="text/javascript"></script>
    <script src="js/bootstrap.js" type="text/javascript"></script>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row-fluid">


        <div class="col-md-3">
          <div class="well sidebar-nav">
            <img class="img-rounded" src="img/avatar_current_user.jpg" width="50%">
            <p class="text-center">Logged in as: <b><text id='user_name'>Vladislav Sanikovich </text></b><button class='btn' id='btn-edit-name' onclick='edit_name()'><i class='glyphicon glyphicon-pencil'></i></button><br>Server connection: <button class="label label-success" id='server_status' onclick='isServerConnectionOk()'>Stable!</button></p>
            <!SEARCH>
            
            <!SEARCH>
            <div class="list-group" id="contacts-list">
                <span href="#" class="list-group-item">
                    Contacts
                    <span class="pull-right" id="slide-submenu">
                        <i class="glyphicon glyphicon-user"></i>
                    </span>
                </span>
                <a href="#" class="list-group-item" height="50px">
                  <div  class="pull-left">
                    <img src="img/user_1.jpg" class=" img-circle" width="40px" margin-left="5px">
                  </div>
                   <h4>Shatilo Pavel <b class="pull-right"><span class="badge"></span></b></h4>
                </a>
                <a href="#" class="list-group-item active" height="50px">
                  <div  class="pull-left">
                    <img src="img/avatar_user_to_talk.jpg" class=" img-circle" width="40px" margin-left="5px">
                  </div>
                   <h4>Narkevich Max <b class="pull-right"><span class="badge"><i class="glyphicon glyphicon-log-in"></i></span></b></h4>
                </a>
                
                <a href="#" class="list-group-item" height="50px">
                  <div  class="pull-left">
                    <img src="img/user_2.jpg" class=" img-circle" width="40px" margin-left="5px">
                  </div>
                   <h4>Diana <b class="pull-right"><span class="badge"></span></b></h4>
                </a>
                <a href="#" class="list-group-item" height="50px">
                  <div  class="pull-left">
                    <img src="img/user_3.jpg" class=" img-circle" width="40px" margin-left="5px">
                  </div>
                   <h4>Nastya <b class="pull-right"><span class="badge">+1</span></b></h4>
                </a>
                <a href="#" class="list-group-item" height="50px">
                  <div  class="pull-left">
                    <img src="img/user_4.jpg" class=" img-circle" width="40px" margin-left="5px">
                  </div>
                   <h4>Denis (Timelapse) <b class="pull-right"><span class="badge"></span></b></h4>
                </a>
                <a href="#" class="list-group-item" height="50px">
                  <div  class="pull-left">
                    <img src="img/user_5.jpg" class=" img-circle" width="40px" margin-left="5px">
                  </div>
                   <h4>Polina <b class="pull-right"><span class="badge"></span></b></h4>
                </a>
                <a href="#" class="list-group-item" height="50px">
                  <div  class="pull-left">
                    <img src="img/user_6.jpg" class=" img-circle" width="40px" margin-left="5px">
                  </div>
                   <h4>Philipipipka <b class="pull-right"><span class="badge"></span></b></h4>
                </a>
            </div>
            <!SEARCH AREA>
            
          </div><!--/.well -->
        </div><!--/span-->

        <div class="col-md-6">
          <div class="row">
            <div class="row chat-window col-md-12 col-md-12" id="chat_window_1" >
                <div class="col-md-12">
                  <div class="panel panel-default">
                        <div class="panel-heading top-bar">
                            <div class="col-md-12 col-xs-12">
                                <h3 class="panel-title"> <strong>Narkevich Max </strong></h3>
                            </div>
                        </div>
                        <div class="panel-body msg_container_base" id="chat-base">
                            <div class="row msg_container base_receive">
                                <div class="col-md-2 col-xs-2 avatar">
                                    <img src="img/avatar_user_to_talk.jpg" class="  img-circled" width="55px">
                                </div>
                                <div class="col-md-10 col-xs-10">
                                    <div class="messages msg_receive">
                                        <p>Hey! What's up??<br>
                                            Dreaming about coding together with u :*</p>
                                        <!--<time datetime="2015-02-27T14:05">Today â€¢ 51 min ago</time>-->
                                        <time class="timeago"></time>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="panel-footer">
                            <div class="input-group">
                                <input id="btn-input" type="text" class="form-control input-sm chat_input" placeholder="Type your message here..." />
                                <span class="input-group-btn">
                                <button class="btn btn-primary btn-sm" id="btn-chat" onclick="send_msg()">Send</button>
                                </span>
                            </div>
                        </div>
                </div>
                </div>
            </div>
          </div>
        </div><!--/span-->

        
        <div class="col-md-3">
          <div class="well sidebar-nav">
            <img class="img-rounded" src="img/avatar_user_to_talk.jpg" width="50%">
            <p class="text-center"><span class="label label-success">Online</span></p>
            <p align="center"><b>Narkevich Max<br>19 years</b></p>
          </div><!--/.well -->
          <div class="well sidebar-nav">
            <p class="text-center">
              <i class="glyphicon glyphicon-gift"></i><b> Birthday: </b>12 october 1995<br>
              <i class="glyphicon glyphicon-map-marker"></i> Minsk, Belarus
            </p>
            <blockquote>
              <p>Any fool can write a program which compiler understands. Good programmer write programs that other programmers will be able to understand.</p>
              <small>Narkevich Max, <cite title="2015">SANNARK Corp.</cite> </small>
            </blockquote>
          </div>
        </div><!--/span-->

      </div><!--/row-->
    </div><!--/.fluid-container-->

    <!-- Le javascript
    ================================================== -->
    <script type="text/javascript">
 
        $(document).ready(function() {
            $("time.timeago").attr("datetime", new Date())
        });
 
        jQuery(document).ready(function() {
            jQuery("time.timeago").timeago();
        });
    </script>
    
    <script type="text/javascript"> 
        var counter = 1;
        window.onkeypress = pressed;

        function pressed(e){
          key = e.keyCode || e.which;
          if (key == 13) send_msg();
        }
        function send_msg() {
          var new_str = document.getElementById('btn-input').value;
          try{
          if (new_str != "") throw""; else throw(1);
          }
          catch(e){
            if (e == 1) new_str = "\nEmpty message!";
          document.getElementById('btn-input').value = null;
          var newMessage = document.getElementById('chat-base');
          var div = document.createElement("div");
          var att = document.createAttribute("class");
          att.value = "row msg_container base_sent";
          div.setAttributeNode(att);
          var att2 = document.createAttribute('id');
          att2.value = counter+"_base_sent";
          div.setAttributeNode(att2);
          div.innerHTML = "<div class='col-md-2 col-divs-2 avatar'><img src='img/avatar_current_user.jpg' class='img-circled' width='55px'></div><div class='col-md-10 col-xs-10'><span class='pull-right'><button class='btn2' id='btn-remove' onclick='delete_msg("+counter+")'><i class='glyphicon glyphicon-remove'></i></button><button class='btn2' id='btn-edit' onclick='edit_msg("+counter+")'><i class='glyphicon glyphicon-pencil'></i></button></span><div class='messages msg_sent'><div id='new_msg_"+counter+"'>"+ new_str +"</div><time class='timeago'></time></div></div>";
          newMessage.appendChild(div);
          updateTimeStamps(div);
          counter++;

          } 
        }

        function updateTimeStamps(content) {
            $(content).ready(function() {
                $("time.timeago").attr("datetime", new Date())
            });
     
            jQuery(content).ready(function() {
                jQuery("time.timeago").timeago();
            });
        }

        function delete_msg(e){
          var tmp_msg = document.getElementById(e + '_base_sent');
          tmp_msg.innerHTML = "<center> <i class='glyphicon glyphicon-info-sign'></i> Message was removed. It can't be undone.</center>";

        }
        function edit_msg(e){
          var eshka = e;
          var tmp_msg = document.getElementById('new_msg_'+ e);
          var new_str = tmp_msg.innerHTML;
          tmp_msg.innerHTML = "<div class='input-group'><input id='btn-input-edit' type='text' class='form-control input-sm chat_input' placeholder='"+tmp_msg.innerHTML+"' /><span class='input-group-btn'><button class='btn btn-primary btn-sm' id='btn-edit' onclick='edit_msg_btn_down("+e+")'>Edit</button></span></div>";
            document.getElementById('btn-input-edit').value = new_str;
          }
        function edit_msg_btn_down(e){
          var edited_msg_text = document.getElementById('btn-input-edit').value;
          try{
          if (edited_msg_text != "") throw"";
          }
          catch(k){
          var edited_msg = document.getElementById('new_msg_' + e);
          edited_msg.innerHTML = edited_msg_text;
          }
        }
        function edit_name(){
          var tmp_name = document.getElementById('user_name');
          var new_str = tmp_name.innerHTML;
          tmp_name.innerHTML = "<div class='input-group'><input id='btn-name-edit' type='text' class='form-control input-sm chat_input' placeholder='"+tmp_name.innerHTML+"' /><span class='input-group-btn'><button class='btn btn-primary btn-sm' id='btn-edit' onclick='edit_name_confirm()'>Edit</button></span></div>";
            document.getElementById('btn-name-edit').value = new_str;
        }
        function edit_name_confirm(){
          var edited_name = document.getElementById('btn-name-edit').value;
          try{
          if (edited_name != "") throw"";
          }
          catch(k){
          var edited_msg = document.getElementById('user_name');
          edited_msg.innerHTML = edited_name +" ";
          }
        }
        function isServerConnectionOk(){
          if (1 == 1){
            var t = document.getElementById('server_status');
            t.innerHTML = 'Error!';
            var att = document.createAttribute("class");
            att.value = "label label-danger";
            document.getElementById('server_status').setAttributeNode(att);
          }
        }
        </script> 
    <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
    <!-- Placed at the end of the document so the pages load faster -->
    <!--<script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/bootstrap-transition.js" type="text/javascript"></script>
    <script src="js/bootstrap-alert.js" type="text/javascript"></script>
    <script src="js/jquerry-1.11.1.js" type="text/javascript"></script>
    <script src="js/bootstrap-modal.js" type="text/javascript"></script>
    <script src="js/bootstrap-dropdown.js" type="text/javascript"></script>
    <script src="js/bootstrap-scrollspy.js" type="text/javascript"></script>
    <script src="js/bootstrap-tab.js" type="text/javascript"></script>
    <script src="js/chat.js" type="text/javascript"></script>

    <script src="js/bootstrap-tooltip.js" type="text/javascript"></script>
    <script src="js/bootstrap-popover.js" type="text/javascript"></script>
    <script src="js/bootstrap-button.js" type="text/javascript"></script>
    <script src="js/bootstrap-collapse.js" type="text/javascript"></script>
    <script src="js/bootstrap-carousel.js" type="text/javascript"></script>
    <script src="js/bootstrap-typeahead.js" type="text/javascript"></script>-->
  </body>
</html>
